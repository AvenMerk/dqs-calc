(()=>{"use strict";var e={1344:(e,t,a)=>{var s=a(7024),n=function(){var e=this,t=e._self._c;return t(s.c,{staticClass:"mt-0"},[t("main-wrapper")],1)},r=[],o=a(2252),i=function(){var e=this,t=e._self._c;return t("main-table")},c=[],l=a(6340),u=a(8530),d=a(4896),m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pa-2 table"},[t("div",{attrs:{id:"capture"}},[t("div",{staticClass:"d-flex flex-row"},e._l(e.headers,(function(a,s){return t("div",{key:s,staticClass:"header px-3 py-1",class:a.class,on:{click:function(t){"update"===a.value&&e.refreshValues()}}},[t("b",[e._v(e._s(a.text))])])})),0),e._l(e.data,(function(a,s){return t("div",{key:s,staticClass:"d-flex flex-row underline"},[a.type&&"category"===a.type?[t("div",{staticClass:"category px-3 py-1"},[e._v(e._s(a.name))])]:[t("div",{staticClass:"first-column px-3 py-1"},[a.description&&a.description.length?[t(d.c,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:n}){return[t("span",e._g(e._b({staticClass:"pointer"},"span",n,!1),s),[e._v(e._s(a.name))])]}}],null,!0)},[t("div",{staticStyle:{"text-align":"left"},domProps:{innerHTML:e._s(a.description)}})])]:t("span",[e._v(e._s(a.name))])],2),t("div",{staticClass:"input-column px-3 py-1 d-flex flex-row align-center"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.amount,expression:"item.amount"}],staticClass:"input-style",attrs:{max:"6",min:"0",type:"number",disabled:"",placeholder:"0"},domProps:{value:a.amount},on:{input:function(t){t.target.composing||e.$set(a,"amount",t.target.value)}}}),t(l.c,{staticClass:"mx-0 align-self-center",attrs:{icon:"","x-small":""},on:{click:function(t){return e.decreaseAmount(a)}}},[t("b",{staticClass:"btn-font minus"},[e._v("-")])]),t(l.c,{staticClass:"mx-0 align-self-center",attrs:{icon:"","x-small":""},on:{click:function(t){return e.increaseAmount(a)}}},[t("b",{staticClass:"btn-font plus"},[e._v("+")])])],1),e._l(a.values,(function(s,n){return t("div",{key:n,staticClass:"other-column px-3 py-1 align-self-center",class:{"green-colored":Math.floor(a.amount)>n&&1==a.category,"red-colored":Math.floor(a.amount)>n&&2==a.category,low:2==a.category,high:1==a.category,half:Math.floor(a.amount)!==a.amount&&a.amount>n&&a.amount<n+1}},[e._v(e._s(s)+" ")])}))]],2)})),t("div",{staticClass:"d-flex flex-row"},[t("div",{staticClass:"category diverse-row px-3 py-1 d-flex flex-row"},[e._m(0),t("div",{staticClass:"input-column--diversity d-flex flex-row align-center justify-center"},[t("label",{attrs:{for:"vegs"}},[e._v("овощей:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.diverseVegs,expression:"diverseVegs"}],staticClass:"input-style",attrs:{type:"checkbox",disabled:0==e.data[1].amount,id:"vegs"},domProps:{checked:Array.isArray(e.diverseVegs)?e._i(e.diverseVegs,null)>-1:e.diverseVegs},on:{change:function(t){var a=e.diverseVegs,s=t.target,n=!!s.checked;if(Array.isArray(a)){var r=null,o=e._i(a,r);s.checked?o<0&&(e.diverseVegs=a.concat([r])):o>-1&&(e.diverseVegs=a.slice(0,o).concat(a.slice(o+1)))}else e.diverseVegs=n}}})]),t("div",{staticClass:"input-column--diversity d-flex flex-row align-center justify-center"},[t("label",{attrs:{for:"fruits"}},[e._v("фруктов:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.diverseFruits,expression:"diverseFruits"}],staticClass:"input-style",attrs:{type:"checkbox",disabled:0==e.data[2].amount,id:"fruits"},domProps:{checked:Array.isArray(e.diverseFruits)?e._i(e.diverseFruits,null)>-1:e.diverseFruits},on:{change:function(t){var a=e.diverseFruits,s=t.target,n=!!s.checked;if(Array.isArray(a)){var r=null,o=e._i(a,r);s.checked?o<0&&(e.diverseFruits=a.concat([r])):o>-1&&(e.diverseFruits=a.slice(0,o).concat(a.slice(o+1)))}else e.diverseFruits=n}}})])])]),t("div",{staticClass:"category px-3 py-1 d-flex flex-row"},[t("b",{staticClass:"align-center pt-1",on:{click:e.calcDQS}},[e._v("DQS:")]),t(u.c),t("b",{staticClass:"px-3 pt-1 align-center"},[e._v(e._s(e.dqs))]),t(l.c,{staticClass:"btn-aligning",attrs:{dense:"",small:"",depressed:"",download:"dqs-calc.png"},on:{click:e.takeSS}},[e._v("Сохранить")])],1)],2)])},p=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"diverse-column"},[t("b",[e._v("Разнообразие:")])])}],v=a(2332),g=a(2428),h=a(2928),f=a.n(h);const y=require("electron");var x=a.n(y);const b=require("fs");var _=a.n(b);const C=require("path");var k,q,w,S,D,O=a.n(C);let V=(k=(0,o.Yl)({name:"MainTable"}),q=(0,o.eo)("diverseFruits"),w=(0,o.eo)("diverseVegs"),k((D=class extends o.cr{constructor(...e){super(...e),(0,v.c)(this,"headers",[{text:"Количество порций в день",value:"name",class:"first-column"},{text:"⭮",class:"input-column pointer",value:"update"},{text:"1",class:"other-column"},{text:"2",class:"other-column"},{text:"3",class:"other-column"},{text:"4",class:"other-column"},{text:"5",class:"other-column"},{text:"6",class:"other-column"}]),(0,v.c)(this,"data",[{name:"Высококачественные продукты",type:"category"},{name:"Овощи, бобовые, грибы, зелень",category:"1",values:["+2","+2","+2","+1","0","0"],amount:0,description:"Порция: 1 кулак или 1 шт"},{name:"Фрукты, ягоды",category:"1",values:["+2","+2","+2","+1","0","0"],amount:0,description:"Порция: 1 кулак или 1 шт"},{name:"Орехи, семена, полезные масла",category:"1",values:["+2","+2","+1","0","0","-1"],amount:0,description:'Порция: Орехи - жменя, <br /> Семечки - столовая ложка, <br /> Масло - столовая ложка "с горкой"'},{name:"Цельнозерновые крупы и мука",category:"1",values:["+2","+2","+1","0","0","-1"],amount:0,description:"Порция: 1 кулак или полная жменя в готовом виде"},{name:"Молочные продукты",category:"1",values:["+2","+1","+1","0","-1","-2"],amount:0,description:"Порция: для жидкого - условный кулак, <br /> мягкий сыр - 4 пальца, <br /> твердый сыр - 2 пальца"},{name:"Цельные мясо/птица/рыба и яйца",category:"1",values:["+2","+1","+1","0","-1","-2"],amount:0,description:"Порция: ладонь без пальцев, можно больше"},{name:"Высококачественные напитки",category:"1",values:["+1","+1","0","0","-1","-2"],amount:0,description:""},{name:"Высококачественная обработанная еда",category:"1",values:["+1","0","-1","-2","-2","-2"],amount:0,description:""},{name:"Низкокачественные продукты",type:"category"},{name:"Очищенные зерна и мука твердых сортов",category:"2",values:["0","-1","-2","-2","-2","-2"],amount:0,description:"Порция: жменя/кулак"},{name:"Сладости",category:"2",values:["-2","-2","-2","-2","-2","-2"],amount:0,description:""},{name:"Ультрапереработанная еда",category:"2",values:["-2","-2","-2","-2","-2","-2"],amount:0,description:""},{name:"Жареная еда",category:"2",values:["-2","-2","-2","-2","-2","-2"],amount:0,description:""},{name:"Низкокачественные напитки",category:"2",values:["-2","-2","-2","-2","-2","-2"],amount:0,description:""},{name:"Прочее",category:"2",values:["0","-1","-2","-2","-2","-2"],amount:0,description:""}]),(0,v.c)(this,"dqs",0),(0,v.c)(this,"diverseFruits",!1),(0,v.c)(this,"diverseVegs",!1),(0,v.c)(this,"showSnackbar",!1)}takeSS(){let e;const t=x().remote.dialog;f()(document.querySelector("#capture")).then((a=>{e=a.toDataURL("image/jpeg",1);const s=e.replace(/^data:image\/jpeg;base64,/,"");let n=x().app||x().remote.app;n=n.getPath("documents")+"\\DQS screenshots";const r="dqs-calc "+(new Date).toLocaleDateString("ru")+".jpeg";_().existsSync(n)||_().mkdir(n,(e=>{console.log(e)})),console.log(n),t.showSaveDialog({title:"Выберите путь для сохранения",defaultPath:O().join(n,r),filters:[{name:"Изображение",extensions:["jpeg"]}],properties:[]}).then((e=>{console.log(e.canceled),e.canceled||(console.log(e.filePath.toString()),_().writeFile(e.filePath.toString(),s,"base64",(e=>{console.log(e)})))})).catch((e=>{console.log(e)}))}))}changeDqsByFruits(){this.diverseFruits?this.dqs=this.dqs+.5:this.dqs=this.dqs-.5}changeDqsByVegs(){this.diverseVegs?this.dqs=this.dqs+.5:this.dqs=this.dqs-.5}calcDQS(){let e=0;for(let t=0;t<this.data.length;t++)if(this.data[t].values&&this.data[t].values.length&&this.data[t].amount)for(let a=0;a<this.data[t].amount;a++)this.data[t].amount!==Math.floor(this.data[t].amount)&&a===Math.floor(this.data[t].amount)?e+=+this.data[t].values[a]*(this.data[t].amount-Math.floor(this.data[t].amount)):e+=+this.data[t].values[a];this.dqs=e}increaseAmount(e){e.amount&&e.amount<6&&e.amount>5.5?e.amount=6:(!e.amount||e.amount&&e.amount<5.5)&&(e.amount=e.amount+.5),this.calcDQS()}decreaseAmount(e){e.amount&&e.amount>=.5?e.amount=e.amount-.5:(!e.amount||e.amount&&e.amount<.5)&&(e.amount=0),this.calcDQS()}refreshValues(){this.dqs=0;for(let e=0;e<this.data.length;e++)this.data[e].amount&&this.data[e].amount>0&&(this.data[e].amount=0)}},(0,g.c)(D.prototype,"changeDqsByFruits",[q],Object.getOwnPropertyDescriptor(D.prototype,"changeDqsByFruits"),D.prototype),(0,g.c)(D.prototype,"changeDqsByVegs",[w],Object.getOwnPropertyDescriptor(D.prototype,"changeDqsByVegs"),D.prototype),S=D))||S);const F=V;var j=a(2528),M=(0,j.c)(F,m,p,!1,null,"50ceb202",null);const P=M.exports;var A,B;let Q=(A=(0,o.Yl)({name:"MainWrapper",components:{MainTable:P}}),A(B=class extends o.cr{})||B);const T=Q;var L=(0,j.c)(T,i,c,!1,null,"897cb994",null);const N=L.exports;var Y,W;let $=(Y=(0,o.Yl)({name:"App",components:{MainWrapper:N}}),Y(W=class extends o.cr{})||W);const E=$;var H=(0,j.c)(E,n,r,!1,null,null,null);const R=H.exports;var U=a(9016),z=a(508),G=a.n(z);a(844);U["default"].use(G());const I={theme:{dark:!0}},J=new(G())(I);new U["default"]({vuetify:J,render:e=>e(R)}).$mount("#app")}},t={};function a(s){var n=t[s];if(void 0!==n)return n.exports;var r=t[s]={exports:{}};return e[s].call(r.exports,r,r.exports,a),r.exports}a.m=e,(()=>{var e=[];a.O=(t,s,n,r)=>{if(!s){var o=1/0;for(u=0;u<e.length;u++){for(var[s,n,r]=e[u],i=!0,c=0;c<s.length;c++)(!1&r||o>=r)&&Object.keys(a.O).every((e=>a.O[e](s[c])))?s.splice(c--,1):(i=!1,r<o&&(o=r));if(i){e.splice(u--,1);var l=n();void 0!==l&&(t=l)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[s,n,r]}})(),(()=>{a.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return a.d(t,{a:t}),t}})(),(()=>{a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}})(),(()=>{a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};a.O.j=t=>0===e[t];var t=(t,s)=>{var n,r,[o,i,c]=s,l=0;if(o.some((t=>0!==e[t]))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(c)var u=c(a)}for(t&&t(s);l<o.length;l++)r=o[l],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},s=global["webpackChunkdqs"]=global["webpackChunkdqs"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var s=a.O(void 0,[999],(()=>a(1344)));s=a.O(s)})();
//# sourceMappingURL=app.8059bc94.js.map